<nav id="mainNavbar" class="card mb-3" style="padding:0.5rem 1rem; display:flex; align-items:center; justify-content:space-between;">
  <!-- Brand / Logo -->
  <div class="d-flex align-items-center gap-2">
    <img src="/static/favicon.ico" alt="PatchPilot Logo" style="height:28px;width:28px;object-fit:contain;">
    <span class="brand">PatchPilot</span>
  </div>

  <!-- Navigation Links -->
  <div class="d-flex gap-2 align-items-center">
    <a href="/dashboard" class="btn btn-compact">Dashboard</a>
    <a href="/devices" class="btn btn-compact">Devices</a>
    <a href="/actions_page" class="btn btn-compact">Actions</a>
    <a href="/history" class="btn btn-compact">History</a>
    <a href="/settings" class="btn btn-compact">Settings</a>
    <a href="/audit" class="btn btn-compact">Audit</a>
    <button id="toggleDarkModeBtn" class="btn btn-compact" title="Toggle dark mode">Dark Mode</button>
  </div>
</nav>

<script>
  // Dark mode toggle
  document.getElementById('toggleDarkModeBtn').addEventListener('click', () => {
    const enabled = !document.body.classList.contains('dark');
    applyDarkMode(enabled); // must exist in app.js
    showAlert(`Dark mode ${enabled ? 'enabled' : 'disabled'}`, 'info', 1400);
  });

  // Highlight current page
  document.querySelectorAll('#mainNavbar a').forEach(link => {
    if (link.href === window.location.href) {
      link.classList.add('active');
    }
  });
</script>
